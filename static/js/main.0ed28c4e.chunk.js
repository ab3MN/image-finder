(this["webpackJsonpimage-finder"]=this["webpackJsonpimage-finder"]||[]).push([[0],{21:function(e,a,t){e.exports={App:"App_App__3tBll"}},23:function(e,a,t){e.exports={ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__DzonC"}},24:function(e,a,t){e.exports={Button:"Button_Button__2FzXD"}},28:function(e,a,t){e.exports=t(73)},3:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__2Damv",SearchForm:"Searchbar_SearchForm__3yS19",SearchForm_button:"Searchbar_SearchForm_button__1iAc1",SearchForm_button_label:"Searchbar_SearchForm_button_label__dCVXq",SearchForm_input:"Searchbar_SearchForm_input__pX9vP"}},72:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(20),c=t.n(o),l=t(10),i=t(4),m=t(5),s=t(7),u=t(6),d=t(26),h=t(27),g=function(e){return e.map((function(e){var a=e.webformatURL,t=e.largeImageURL,n=Object(h.a)(e,["webformatURL","largeImageURL"]);return Object(d.a)({webImage:a,largeImage:t},n)}))},p=t(21),f=t.n(p),_=t(22),b=t.n(_),v="https://pixabay.com/api/?",y="17165161-1d54c685ea0a2bff5ee7aa4bf",S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return b.a.get("".concat(v,"key=").concat(y,"&q=").concat(e,"&per_page=").concat(12,"&page=").concat(a))},E=t(3),I=t.n(E),k=function(e){var a=e.onChange,t=e.onSubmit;return r.a.createElement("header",{className:I.a.Searchbar},r.a.createElement("form",{className:I.a.SearchForm,onSubmit:t},r.a.createElement("button",{type:"submit",className:I.a.SearchForm_button},r.a.createElement("span",{className:I.a.SearchForm_button_label},"Search")),r.a.createElement("input",{onChange:a,className:I.a.SearchForm_input,type:"text",autoComplete:"off",placeholder:"Search images and photos"})))},C=t(23),M=t.n(C),O=function(e){var a=e.link,t=e.onClick;return r.a.createElement("img",{src:a,alt:"",className:M.a.ImageGalleryItem_image,onClick:t,"aria-hidden":!0})},w=t(24),F=t.n(w),j=function(e){var a=e.onClick;return r.a.createElement("button",{type:"button",className:F.a.Button,onClick:a},"Load more")},G=t(8),N=t.n(G),x=function(e){var a=e.images,t=e.onClick,n=e.onClickModal;return r.a.createElement("div",null,r.a.createElement("ul",{className:N.a.ImageGallery},a.map((function(e){return r.a.createElement("li",{className:N.a.ImageGalleryItem,key:e.id},r.a.createElement(O,{link:e.webImage,onClick:function(){return n(e.id)}}))}))),r.a.createElement(j,{onClick:t}))},L=function(e){var a=e.text;return r.a.createElement("h2",null,"Wrong some error",a)},A=t(9),B=t.n(A),D=Object(n.createRef)(),q=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleKeyPress=function(a){"Escape"===a.code&&e.props.closeModal()},e.handleClick=function(a){a.target!==D.current&&e.props.closeModal()},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUpdate",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.link;return r.a.createElement("div",{className:B.a.Overlay,onClick:this.handleClick,"aria-hidden":!0},r.a.createElement("div",{className:B.a.Modal},r.a.createElement("img",{src:e,alt:"",ref:D})))}}]),t}(n.Component),R=(t(50),t(25)),U=t.n(R),P=function(){return r.a.createElement(U.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},z=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],isLoading:!1,error:null,query:"",page:1,isModalOpen:!1,modalImage:""},e.scrollFunc=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.fetchImages=function(a,t){e.setState({isLoading:!0}),S(a,t).then((function(a){var t=a.data;return e.setState({images:g(t.hits)})})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({isLoading:!1})}))},e.handleChange=function(a){var t=a.target.value;e.setState({query:t})},e.handleSubmit=function(a){a.preventDefault(),e.setState({images:[]});var t=e.state,n=t.query,r=t.page;e.fetchImages(n,r)},e.loadMore=function(){e.setState((function(e){return{page:e.page+1}}),(function(){var a=e.state,t=a.query,n=a.page;window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),S(t,n).then((function(a){return e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(g(a.data.hits)))}}))}))}))},e.openModal=function(a){var t=e.state.images.find((function(e){return e.id===a})).largeImage;e.setState({modalImage:t,isModalOpen:!0})},e.closeModal=function(){e.setState({isModalOpen:!1})},e}return Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,a){this.state.images!==a.images&&this.scrollFunc()}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.error,n=e.isModalOpen,o=e.modalImage,c=e.isLoading,l=e.inputValue;return r.a.createElement("section",{className:f.a.App},t&&r.a.createElement(L,{text:t.message}),r.a.createElement(k,{onChange:this.handleChange,onSubmit:this.handleSubmit,value:l}),c&&r.a.createElement(P,null),a.length>0&&r.a.createElement(x,{images:a,onClick:this.loadMore,onClickModal:this.openModal}),n&&r.a.createElement(q,{link:o,closeModal:this.closeModal}))}}]),t}(n.Component);t(72);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))},8:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__Q6n0Q",ImageGalleryItem:"ImageGallery_ImageGalleryItem__A-pGQ"}},9:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3HbEA",Modal:"Modal_Modal__ROzlM"}}},[[28,1,2]]]);
//# sourceMappingURL=main.0ed28c4e.chunk.js.map